{"version":3,"sources":["components/card_add_form/card_add_form.module.css","components/card_edit_form/card_edit_form.module.css","components/image_file_input/image_file_input.module.css","components/header/header.module.css","components/login/login.module.css","components/maker/maker.module.css","components/editor/editor.module.css","components/preview/preview.module.css","components/card_download/card_download.module.css","app.module.css","components/footer/footer.module.css","components/button/button.module.css","components/header/header.jsx","components/footer/footer.jsx","components/login/login.jsx","components/button/button.jsx","components/card_add_form/card_add_form.jsx","components/card_edit_form/card_edit_form.jsx","components/editor/editor.jsx","components/card/card.jsx","components/preview/preview.jsx","components/maker/maker.jsx","app.jsx","service/firebase.js","service/auth_service.js","service/image_uploader.js","components/image_file_input/image_file_input.jsx","service/card_repository.js","service/html_to_image.js","components/card_download/card_download.jsx","index.js","components/card/card.module.css"],"names":["module","exports","Header","onLogout","addressIcon","useMemo","icon","className","styles","card","unlockIcon","header","title","onClick","logout","React","memo","Footer","footer","Login","authService","history","useHistory","goToMaker","userId","push","pathname","state","id","onLogin","event","login","currentTarget","textContent","then","data","user","uid","useEffect","onAuthChange","container","list","Button","name","button","CardAddForm","onAddCard","FileInput","formRef","useRef","nameRef","companyRef","titleRef","emailRef","messageRef","themeRef","useState","fileName","fileURL","file","setFile","ref","form","input","type","placeholder","textarea","editFoot","select","defaultValue","value","onFileChange","url","preventDefault","Date","now","current","company","email","message","theme","reset","CardEditForm","updateCard","deleteCard","Download","downloadCard","onChange","Editor","cards","editor","forms","Object","keys","map","key","Card","forwardRef","getThemeType","cardHead","src","alt","headImg","headText","cardBody","light","dark","sky","orange","Error","Preview","preview","i","el","Maker","cardRepository","historyState","setCards","setUserId","cardsRef","slice","length","useCallback","completeSync","syncCards","completeAuth","addOrUpdateCard","updated","saveCard","maker","removeCard","cardId","cardElement","find","getAttribute","parseInt","htmlToImage","dataUrl","download","library","add","faAddressCard","faUnlockAlt","faUpload","faDownload","App","app","basename","process","exact","path","firebaseApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","firebaseAuth","auth","firebaseDatabase","database","googleProvider","GoogleAuthProvider","facebookProvider","FacebookAuthProvider","githubProvider","GithubAuthProvider","AuthService","providerName","authProvider","this","getProvider","signInWithPopup","signOut","onUserChanged","unsubscribe","onAuthStateChanged","ImageUploader","FormData","append","fetch","method","body","res","json","ImageFileInput","imageUploader","noImg","loading","setLoading","inputRef","a","upload","target","files","uploaded","original_filename","accept","click","CardRepository","onUpdate","on","snapshot","val","off","set","remove","HtmlToImage","img","Image","document","appendChild","catch","error","console","CardDownload","downLoadButton","props","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.395425e6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"card_add_form_form__wOfaV\",\"input\":\"card_add_form_input__1pLce\",\"textarea\":\"card_add_form_textarea__3DYtA\",\"editFoot\":\"card_add_form_editFoot__2JJRY\",\"select\":\"card_add_form_select__3KWLB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"card_edit_form_form__37yhF\",\"input\":\"card_edit_form_input__3uHCs\",\"textarea\":\"card_edit_form_textarea__2hP82\",\"editFoot\":\"card_edit_form_editFoot__xTSLy\",\"select\":\"card_edit_form_select__259ET\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"image_file_input_container__2Qn_p\",\"uploaded\":\"image_file_input_uploaded__1kAu0\",\"button\":\"image_file_input_button__vpf1J\",\"input\":\"image_file_input_input__3Ul3l\",\"icon\":\"image_file_input_icon__1ypTk\",\"loading\":\"image_file_input_loading__15vUd\",\"spin\":\"image_file_input_spin__1ql1C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlue\":\"#08aeec\",\"makerBlack\":\"#2b2d39\",\"header\":\"header_header__Q_w-W\",\"title\":\"header_title__21mNe\",\"card\":\"header_card__285yd\",\"logout\":\"header_logout__x1HP2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlue\":\"#08aeec\",\"makerBlack\":\"#2b2d39\",\"makerOrange\":\"orange\",\"container\":\"login_container__14BVq\",\"login\":\"login_login__3-jiH\",\"title\":\"login_title__2RimC\",\"list\":\"login_list__3T1BG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"#2b2d39\",\"mediaQuery\":\"992px\",\"container\":\"maker_container__1xqMf\",\"maker\":\"maker_maker__1CEMH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlue\":\"#08aeec\",\"makerBlack\":\"#2b2d39\",\"makerOrange\":\"orange\",\"makerLightGray\":\"#ddd\",\"mediaQuery\":\"992px\",\"editor\":\"editor_editor__-hJEu\",\"forms\":\"editor_forms__YLLpU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlue\":\"#08aeec\",\"makerBlack\":\"#2b2d39\",\"makerOrange\":\"orange\",\"makerLightGray\":\"#ddd\",\"mediaQuery\":\"992px\",\"preview\":\"preview_preview__2vYcZ\",\"cards\":\"preview_cards__289y_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"card_download_button__tyb7z\",\"icon\":\"card_download_icon__3XMDT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__3ItPe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlue\":\"#08aeec\",\"makerBlack\":\"#2b2d39\",\"footer\":\"footer_footer__2rtPB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlack\":\"#2b2d39\",\"button\":\"button_button__1i-em\"};","import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport React, { useMemo } from \"react\";\r\nimport styles from \"./header.module.css\";\r\n\r\nconst Header = ({ onLogout }) => {\r\n  const addressIcon = useMemo(\r\n    () => <FontAwesomeIcon icon=\"address-card\" className={styles.card} />,\r\n    []\r\n  );\r\n  const unlockIcon = useMemo(() => <FontAwesomeIcon icon=\"unlock-alt\" />, []);\r\n\r\n  return (\r\n    <header className={styles.header}>\r\n      <h1 className={styles.title}>\r\n        {addressIcon}\r\n        Visiting Card Maker\r\n        {onLogout && (\r\n          <button onClick={onLogout} className={styles.logout}>\r\n            {unlockIcon}\r\n          </button>\r\n        )}\r\n      </h1>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default React.memo(Header);\r\n","import React from \"react\";\r\nimport styles from \"./footer.module.css\";\r\n\r\nconst Footer = () => {\r\n  return <footer className={styles.footer}>Register your card</footer>;\r\n};\r\n\r\nexport default React.memo(Footer);\r\n","import React, { useEffect } from \"react\";\r\nimport Header from \"../header/header\";\r\nimport Footer from \"../footer/footer\";\r\nimport styles from \"./login.module.css\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Login = ({ authService }) => {\r\n  const history = useHistory();\r\n  const goToMaker = userId => {\r\n    history.push({\r\n      pathname: \"/maker\",\r\n      state: { id: userId },\r\n    });\r\n  };\r\n\r\n  const onLogin = event => {\r\n    authService //\r\n      .login(event.currentTarget.textContent)\r\n      .then(data => goToMaker(data.user.uid));\r\n  };\r\n\r\n  useEffect(() => {\r\n    authService.onAuthChange(user => {\r\n      user && goToMaker(user.uid);\r\n    });\r\n  });\r\n\r\n  return (\r\n    <section className={styles.container}>\r\n      <Header />\r\n      <div className={styles.login}>\r\n        <h2 className={styles.title}>Login</h2>\r\n        <ul className={styles.list}>\r\n          <li>\r\n            <button onClick={onLogin}>Google</button>\r\n          </li>\r\n          <li>\r\n            <button onClick={onLogin}>Facebook</button>\r\n          </li>\r\n          <li>\r\n            <button onClick={onLogin}>Github</button>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n      <Footer />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport styles from \"./button.module.css\";\r\n\r\nconst Button = ({ name, onClick }) => {\r\n  return (\r\n    <button className={styles.button} onClick={onClick}>\r\n      {name}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default React.memo(Button);\r\n","import React, { useRef, useState } from 'react';\r\nimport Button from '../button/button';\r\nimport styles from './card_add_form.module.css';\r\n\r\nconst CardAddForm = ({ onAddCard, FileInput }) => {\r\n  const formRef = useRef(null);\r\n  const nameRef = useRef(null);\r\n  const companyRef = useRef(null);\r\n  const titleRef = useRef(null);\r\n  const emailRef = useRef(null);\r\n  const messageRef = useRef(null);\r\n  const themeRef = useRef(null);\r\n  const [file, setFile] = useState({ fileName: null, fileURL: null });\r\n\r\n  const onFileChange = file => {\r\n    setFile({\r\n      fileName: file.name,\r\n      fileURL: file.url,\r\n    });\r\n  };\r\n\r\n  const onSubmit = event => {\r\n    event.preventDefault();\r\n    const card = {\r\n      id: Date.now(),\r\n      name: nameRef.current.value || '',\r\n      company: companyRef.current.value || '',\r\n      title: titleRef.current.value || '',\r\n      email: emailRef.current.value || '',\r\n      message: messageRef.current.value || '',\r\n      theme: themeRef.current.value || '',\r\n      fileName: file.fileName || '',\r\n      fileURL: file.fileURL || '',\r\n    };\r\n    formRef.current.reset();\r\n    setFile({ fileName: null, fileURL: null });\r\n    onAddCard(card);\r\n  };\r\n\r\n  return (\r\n    <form ref={formRef} className={styles.form}>\r\n      <input\r\n        ref={nameRef}\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"name\"\r\n        placeholder=\"Name\"\r\n      />\r\n      <input\r\n        ref={companyRef}\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"company\"\r\n        placeholder=\"Company\"\r\n      />\r\n      <input\r\n        ref={titleRef}\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"title\"\r\n        placeholder=\"Title\"\r\n      />\r\n      <input\r\n        ref={emailRef}\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"email\"\r\n        placeholder=\"Email\"\r\n      />\r\n      <textarea\r\n        ref={messageRef}\r\n        className={styles.textarea}\r\n        name=\"message\"\r\n        placeholder=\"Comment\"\r\n      ></textarea>\r\n      <div className={styles.editFoot}>\r\n        <select\r\n          ref={themeRef}\r\n          className={styles.select}\r\n          name=\"theme\"\r\n          defaultValue=\"light\"\r\n        >\r\n          <option value=\"light\">light</option>\r\n          <option value=\"dark\">dark</option>\r\n          <option value=\"sky\">sky</option>\r\n          <option value=\"orange\">orange</option>\r\n        </select>\r\n        <FileInput name={file.fileName} onFileChange={onFileChange} />\r\n        <Button name=\"Add\" onClick={onSubmit}></Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default React.memo(CardAddForm);\r\n","import React from 'react';\r\nimport Button from '../button/button';\r\nimport styles from './card_edit_form.module.css';\r\n\r\nconst CardEditForm = ({\r\n  card,\r\n  updateCard,\r\n  deleteCard,\r\n  FileInput,\r\n  Download,\r\n  downloadCard,\r\n}) => {\r\n  const { name, company, theme, title, email, message, fileName } = card;\r\n\r\n  const onFileChange = file => {\r\n    updateCard({\r\n      ...card,\r\n      fileName: file.name,\r\n      fileURL: file.url,\r\n    });\r\n  };\r\n\r\n  const onChange = event => {\r\n    if (event.currentTarget == null) return;\r\n    event.preventDefault();\r\n    updateCard({\r\n      ...card,\r\n      [event.currentTarget.name]: event.currentTarget.value,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <form className={styles.form}>\r\n      <Download card={card} downloadCard={downloadCard} />\r\n      <input\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"name\"\r\n        value={name}\r\n        placeholder=\"Name\"\r\n        onChange={onChange}\r\n      />\r\n      <input\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"company\"\r\n        value={company}\r\n        placeholder=\"Company\"\r\n        onChange={onChange}\r\n      />\r\n      <input\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"title\"\r\n        value={title}\r\n        placeholder=\"Title\"\r\n        onChange={onChange}\r\n      />\r\n      <input\r\n        className={styles.input}\r\n        type=\"text\"\r\n        name=\"email\"\r\n        value={email}\r\n        placeholder=\"Email\"\r\n        onChange={onChange}\r\n      />\r\n      <textarea\r\n        className={styles.textarea}\r\n        name=\"message\"\r\n        value={message}\r\n        onChange={onChange}\r\n        placeholder=\"Comment\"\r\n      ></textarea>\r\n      <div className={styles.editFoot}>\r\n        <select\r\n          className={styles.select}\r\n          name=\"theme\"\r\n          value={theme}\r\n          onChange={onChange}\r\n        >\r\n          <option value=\"light\">light</option>\r\n          <option value=\"dark\">dark</option>\r\n          <option value=\"sky\">sky</option>\r\n          <option value=\"orange\">orange</option>\r\n        </select>\r\n        <FileInput name={fileName} onFileChange={onFileChange} />\r\n        <Button name=\"Delete\" onClick={() => deleteCard(card)}></Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default React.memo(CardEditForm);\r\n","import React from 'react';\r\nimport CardAddForm from '../card_add_form/card_add_form';\r\nimport CardEditForm from '../card_edit_form/card_edit_form';\r\nimport styles from './editor.module.css';\r\n\r\nconst Editor = ({\r\n  cards,\r\n  onAddCard,\r\n  updateCard,\r\n  deleteCard,\r\n  FileInput,\r\n  Download,\r\n  downloadCard,\r\n}) => {\r\n  return (\r\n    <div className={styles.editor}>\r\n      <h2>Card Edit</h2>\r\n      <div className={styles.forms}>\r\n        {Object.keys(cards).map(key => (\r\n          <CardEditForm\r\n            key={key}\r\n            card={cards[key]}\r\n            updateCard={updateCard}\r\n            deleteCard={deleteCard}\r\n            FileInput={FileInput}\r\n            Download={Download}\r\n            downloadCard={downloadCard}\r\n          />\r\n        ))}\r\n        <CardAddForm onAddCard={onAddCard} FileInput={FileInput}></CardAddForm>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Editor;\r\n","import React, { forwardRef } from 'react';\r\nimport styles from './card.module.css';\r\n\r\nconst Card = forwardRef(({ card }, ref) => {\r\n  const DEFAULT_IMG = '/images/default.png';\r\n  const {\r\n    name,\r\n    company,\r\n    theme,\r\n    title,\r\n    email,\r\n    message,\r\n    fileName,\r\n    fileURL,\r\n    id,\r\n  } = card;\r\n  const url = fileURL || DEFAULT_IMG;\r\n\r\n  return (\r\n    <li ref={ref} id={id} className={`${styles.card} ${getThemeType(theme)}`}>\r\n      <div className={styles.cardHead}>\r\n        <img src={url} alt={fileName} className={styles.headImg} />\r\n        <div className={styles.headText}>\r\n          <p className={styles.name}>{name}</p>\r\n          <p className={styles.company}>{company}</p>\r\n        </div>\r\n      </div>\r\n      <div className={styles.cardBody}>\r\n        <p className={styles.title}>{title}</p>\r\n        <p className={styles.email}>{email}</p>\r\n        <p className={styles.message}>{`\"${message}\"`}</p>\r\n      </div>\r\n    </li>\r\n  );\r\n});\r\n\r\nfunction getThemeType(theme) {\r\n  switch (theme) {\r\n    case 'light':\r\n      return styles.light;\r\n    case 'dark':\r\n      return styles.dark;\r\n    case 'sky':\r\n      return styles.sky;\r\n    case 'orange':\r\n      return styles.orange;\r\n    default:\r\n      throw new Error(`not theme ${theme}`);\r\n  }\r\n}\r\n\r\nexport default React.memo(Card);\r\n","import React, { forwardRef } from 'react';\r\nimport Card from '../card/card';\r\nimport styles from './preview.module.css';\r\n\r\nconst Preview = forwardRef(({ cards }, ref) => {\r\n  return (\r\n    <div className={styles.preview}>\r\n      <h2>Card Preview</h2>\r\n      <ul className={styles.cards}>\r\n        {Object.keys(cards).map((key, i) => (\r\n          <Card ref={el => (ref.current[i] = el)} key={key} card={cards[key]} />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Preview;\r\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\r\nimport Header from '../header/header';\r\nimport Footer from '../footer/footer';\r\nimport styles from './maker.module.css';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Editor from '../editor/editor';\r\nimport Preview from '../preview/preview';\r\nimport * as htmlToImage from 'html-to-image';\r\nimport download from 'downloadjs';\r\n\r\nconst Maker = ({ authService, FileInput, cardRepository, Download }) => {\r\n  const historyState = useHistory().state;\r\n  const [cards, setCards] = useState({});\r\n  const [userId, setUserId] = useState(historyState && historyState.id);\r\n  const cardsRef = useRef([]);\r\n  // you can access the elements with itemsRef.current[n] - useRef를 배열로 만들어서 이용하는 방법!\r\n  useEffect(() => {\r\n    cardsRef.current = cardsRef.current.slice(0, Object.keys(cards).length);\r\n  }, [cards]);\r\n\r\n  // login에서 추가해준 history.state.id 를 이용함\r\n  const history = useHistory();\r\n\r\n  const onLogout = useCallback(() => {\r\n    authService.logout();\r\n  }, [authService]);\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n    const completeSync = cardRepository.syncCards(userId, cards => {\r\n      setCards(cards);\r\n    });\r\n    return () => completeSync(); // Unmount때 중지시켜주기 위함 (card_repository.js에서 ref.off()가 실행됨)\r\n  }, [cardRepository, userId]);\r\n\r\n  // 로그인 상태가 바뀔때마다 체크해서 id 변경 or 아이디가 user가 없으면 로그인화면으로\r\n  useEffect(() => {\r\n    const completeAuth = authService.onAuthChange(user => {\r\n      user ? setUserId(user.uid) : history.push('/');\r\n    });\r\n    return () => completeAuth(); // Unmount때 중지시켜주기 위함 (auth_service.js에서 unsubscribe()가 실행됨)\r\n  }, [authService, userId, history]);\r\n\r\n  const addOrUpdateCard = card => {\r\n    setCards(cards => {\r\n      const updated = { ...cards };\r\n      updated[card.id] = card;\r\n      return updated;\r\n    });\r\n    cardRepository.saveCard(userId, card);\r\n  };\r\n\r\n  const deleteCard = card => {\r\n    setCards(cards => {\r\n      const updated = { ...cards };\r\n      delete updated[card.id];\r\n      return updated;\r\n    });\r\n    cardRepository.removeCard(userId, card);\r\n  };\r\n\r\n  const downloadCard = cardId => {\r\n    const cardElement = cardsRef.current.find(card => {\r\n      const id = card.getAttribute('id');\r\n      return parseInt(id) === cardId;\r\n    });\r\n    htmlToImage.toPng(cardElement).then(function (dataUrl) {\r\n      download(dataUrl, 'card.png');\r\n    });\r\n  };\r\n\r\n  return (\r\n    <section className={styles.container}>\r\n      <Header onLogout={onLogout} />\r\n      <div className={styles.maker}>\r\n        <Editor\r\n          cards={cards}\r\n          onAddCard={addOrUpdateCard}\r\n          updateCard={addOrUpdateCard}\r\n          deleteCard={deleteCard}\r\n          FileInput={FileInput}\r\n          Download={Download}\r\n          downloadCard={downloadCard}\r\n        />\r\n        <Preview cards={cards} ref={cardsRef} />\r\n      </div>\r\n      <Footer />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Maker;\r\n","import styles from './app.module.css';\nimport Login from './components/login/login';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Maker from './components/maker/maker';\nimport {\n  faAddressCard,\n  faUnlockAlt,\n  faUpload,\n  faDownload,\n} from '@fortawesome/free-solid-svg-icons';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nlibrary.add(faAddressCard, faUnlockAlt, faUpload, faDownload);\n\nfunction App({ authService, FileInput, cardRepository, Download }) {\n  return (\n    <div className={styles.app}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <Switch>\n          <Route exact path=\"/\">\n            <Login authService={authService} />\n          </Route>\n          <Route path=\"/maker\">\n            <Maker\n              authService={authService}\n              FileInput={FileInput}\n              cardRepository={cardRepository}\n              Download={Download}\n            />\n          </Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport 'firebase/database';\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n  authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n  databaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\r\n  projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nexport const firebaseAuth = firebaseApp.auth();\r\nexport const firebaseDatabase = firebaseApp.database();\r\nexport const googleProvider = new firebase.auth.GoogleAuthProvider();\r\nexport const facebookProvider = new firebase.auth.FacebookAuthProvider();\r\nexport const githubProvider = new firebase.auth.GithubAuthProvider();\r\n","import {\r\n  firebaseAuth,\r\n  facebookProvider,\r\n  githubProvider,\r\n  googleProvider,\r\n} from './firebase';\r\n\r\nclass AuthService {\r\n  login(providerName) {\r\n    const authProvider = this.getProvider(providerName);\r\n    return firebaseAuth.signInWithPopup(authProvider);\r\n  }\r\n\r\n  logout() {\r\n    firebaseAuth.signOut();\r\n  }\r\n\r\n  onAuthChange(onUserChanged) {\r\n    const unsubscribe = firebaseAuth.onAuthStateChanged(user =>\r\n      onUserChanged(user)\r\n    );\r\n    return () => unsubscribe(); // 이것도 card repository와 마찬가지로 unmount될때 onAuthStateChanged를 중지시켜줘야한다.\r\n  }\r\n\r\n  getProvider(providerName) {\r\n    switch (providerName) {\r\n      case 'Google':\r\n        return googleProvider;\r\n      case 'Facebook':\r\n        return facebookProvider;\r\n      case 'Github':\r\n        return githubProvider;\r\n      default:\r\n        throw new Error(`not supported provider ${providerName}`);\r\n    }\r\n  }\r\n}\r\n\r\nexport default AuthService;\r\n","class ImageUploader {\r\n  async upload(file) {\r\n    const data = new FormData();\r\n    data.append(\"file\", file);\r\n    data.append(\"upload_preset\", \"kimexample\");\r\n    const res = await fetch(\r\n      \"https://api.cloudinary.com/v1_1/kimsunyang/upload\",\r\n      {\r\n        method: \"POST\",\r\n        body: data,\r\n      }\r\n    );\r\n    return await res.json();\r\n  }\r\n}\r\n\r\nexport default ImageUploader;\r\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React, { useMemo, useRef, useState } from 'react';\r\nimport styles from './image_file_input.module.css';\r\n\r\nconst ImageFileInput = ({ imageUploader, name, onFileChange }) => {\r\n  const noImg = useMemo(\r\n    () => (\r\n      <span>\r\n        No Image\r\n        <FontAwesomeIcon icon=\"upload\" className={styles.icon} />\r\n      </span>\r\n    ),\r\n    []\r\n  );\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const inputRef = useRef('null');\r\n  const onButtonClick = event => {\r\n    event.preventDefault();\r\n    inputRef.current.click();\r\n  };\r\n\r\n  const onChange = async event => {\r\n    setLoading(true);\r\n    const uploaded = await imageUploader.upload(event.target.files[0]);\r\n    setLoading(false);\r\n    onFileChange({\r\n      name: uploaded.original_filename,\r\n      url: uploaded.url,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className={styles.container}>\r\n      <input\r\n        ref={inputRef}\r\n        className={styles.input}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        name=\"file\"\r\n        onChange={onChange}\r\n      />\r\n      {!loading && (\r\n        <button\r\n          className={`${styles.button} ${name && styles.uploaded}`}\r\n          onClick={onButtonClick}\r\n        >\r\n          {name || noImg}\r\n        </button>\r\n      )}\r\n      {loading && <div className={styles.loading}></div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(ImageFileInput);\r\n","import { firebaseDatabase } from './firebase';\r\n\r\nclass CardRepository {\r\n  syncCards(userId, onUpdate) {\r\n    // 해당 경로 데이터베이스에 value가 있다면 onUpdate(value)한다.\r\n    const ref = firebaseDatabase.ref(`${userId}/cards`);\r\n    ref.on('value', snapshot => {\r\n      const value = snapshot.val();\r\n      value && onUpdate(value);\r\n    });\r\n    return () => ref.off(); // unmount 될때 중지시켜주기 위함\r\n  }\r\n\r\n  saveCard(userId, card) {\r\n    firebaseDatabase.ref(`${userId}/cards/${card.id}`).set(card);\r\n  }\r\n\r\n  removeCard(userId, card) {\r\n    firebaseDatabase.ref(`${userId}/cards/${card.id}`).remove();\r\n  }\r\n}\r\n\r\nexport default CardRepository;\r\n","import * as htmlToImage from 'html-to-image';\r\n\r\nclass HtmlToImage {\r\n  urlPng(card) {\r\n    htmlToImage\r\n      .toPng(card)\r\n      .then(dataUrl => {\r\n        const img = new Image();\r\n        img.src = dataUrl;\r\n        document.body.appendChild(img);\r\n      })\r\n      .catch(error => {\r\n        console.error('oops, something went wrong!', error);\r\n      });\r\n  }\r\n}\r\n\r\nexport default HtmlToImage;\r\n","import styles from './card_download.module.css';\r\nimport React, { useMemo } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\n\r\nconst CardDownload = ({ htmlToImage, card, downloadCard }) => {\r\n  const downLoadButton = useMemo(\r\n    () => (\r\n      <span>\r\n        Download\r\n        <FontAwesomeIcon icon=\"download\" className={styles.icon} />\r\n      </span>\r\n    ),\r\n    []\r\n  );\r\n\r\n  const onButtonClick = event => {\r\n    event.preventDefault();\r\n    downloadCard(card.id);\r\n  };\r\n\r\n  return (\r\n    <button className={styles.button} onClick={onButtonClick}>\r\n      {downLoadButton}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default React.memo(CardDownload);\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.module.css';\nimport App from './app';\nimport AuthService from './service/auth_service';\nimport ImageUploader from './service/image_uploader';\nimport ImageFileInput from './components/image_file_input/image_file_input';\nimport CardRepository from './service/card_repository';\nimport HtmlToImage from './service/html_to_image';\nimport CardDownload from './components/card_download/card_download';\n\nconst authService = new AuthService();\nconst cardRepository = new CardRepository();\nconst imageUploader = new ImageUploader();\nconst htmlToImage = new HtmlToImage();\n\nconst FileInput = React.memo(props => (\n  <ImageFileInput {...props} imageUploader={imageUploader} />\n));\nconst Download = React.memo(props => (\n  <CardDownload {...props} htmlToImage={htmlToImage} />\n));\n\nReactDOM.render(\n  <React.StrictMode>\n    <App\n      authService={authService}\n      FileInput={FileInput}\n      cardRepository={cardRepository}\n      Download={Download}\n    />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"makerBlue\":\"#08aeec\",\"makerBlack\":\"#2b2d39\",\"makerOrange\":\"orange\",\"makerLight\":\"lightyellow\",\"light\":\"card_light__3miQK\",\"dark\":\"card_dark__3KBCF\",\"sky\":\"card_sky__MFiag\",\"orange\":\"card_orange__2g6_I\",\"card\":\"card_card__VGUkh\",\"cardHead\":\"card_cardHead__1HTKt\",\"headImg\":\"card_headImg__1JETl\",\"headText\":\"card_headText__1uHjh\",\"name\":\"card_name__2Loiz\",\"cardBody\":\"card_cardBody__12t27\",\"title\":\"card_title__1h-3c\",\"email\":\"card_email__3dWRP\"};"],"sourceRoot":""}